"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseAssetId = exports.formatAssetId = exports.parseChainId = exports.formatChainId = void 0;
const caip_1 = require("caip");
const EIP155_NAMESPACE = "eip155";
exports.formatChainId = (chainId) => {
    return { namespace: EIP155_NAMESPACE, reference: `${chainId}` };
};
exports.parseChainId = (chainId) => {
    if (typeof chainId === "string") {
        chainId = caip_1.ChainID.parse(chainId);
    }
    if (chainId.namespace !== EIP155_NAMESPACE) {
        throw new Error("ChainId provided namespace does not match EIP155");
    }
    return Number(chainId.reference);
};
exports.formatAssetId = (assetAddress, chainId) => {
    return caip_1.AccountID.format({ address: assetAddress, chainId: exports.formatChainId(chainId) });
};
exports.parseAssetId = (assetId) => {
    const accountId = caip_1.AccountID.parse(assetId);
    return { assetAddress: accountId.address, chainId: exports.parseChainId(accountId.chainId) };
};
//# sourceMappingURL=caip.js.map